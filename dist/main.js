(()=>{"use strict";let e=document.getElementById("planning-add-button"),t=document.getElementById("add-dialog-open"),n=document.getElementById("add-dialog-close"),d=document.getElementById("add-modal-task"),a=document.getElementById("add-modal-project"),i=document.getElementById("modal-content-form"),l=document.getElementById("all-tasks"),c=document.getElementById("planning-projects-list"),o=document.getElementById("planning-home-h3");function s(e,t,n,d,a,i){let l=new function(e,t,n,d,a,i){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.inProject=a,this.isDone=i}(e,t,n,d,a,i);return l}function r(e,t){let n=new function(e,t){this.id=e,this.name=t}(e,t);return n}function p(e,t){localStorage.setItem(e,JSON.stringify(t))}function m(e,t){localStorage.setItem(e,JSON.stringify(t))}function u(e){e.close()}function h(e){e.innerHTML=""}function E(){let e=0,t=[];return Object.entries(localStorage).forEach((e=>{t.push(JSON.parse(e[1]).id)})),e=Math.max(...t),e}function L(e){let t="";return t=JSON.parse(e[1]).hasOwnProperty("name")?"project":"task",t}function f(){Object.entries(localStorage).forEach((e=>{if("project"==L(e)){let t=document.createElement("div"),n=document.createElement("h3"),d=document.createElement("i");1!=JSON.parse(e[0])&&(c.appendChild(t),t.appendChild(n)),JSON.parse(e[1]).id>1&&t.appendChild(d),n.innerHTML=JSON.parse(e[1]).name,t.classList.add("project-container"),n.id=`project-${JSON.parse(e[1]).id}`,d.id=`project-delete-${JSON.parse(e[1]).id}`,d.classList.add("fa-solid"),d.classList.add("fa-trash-can"),d.classList.add("project-delete"),n.classList.add("project-h3"),n.addEventListener("pointerdown",(()=>{localStorage.setItem(1,e[1]),v(1,JSON.parse(e[1]).name)})),d.addEventListener("pointerdown",(()=>{!function(e){"project"==L(e)&&(localStorage.removeItem(JSON.parse(e[1]).id),c.innerHTML="",f())}(e)}))}}))}function C(e){let t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),m=document.createElement("input"),u=document.createElement("p"),h=document.createElement("button"),E=document.createElement("p"),f=document.createElement("i"),C=document.createElement("dialog"),g=document.createElement("dialog");l.appendChild(t),t.appendChild(n),t.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(c),d.appendChild(o),d.appendChild(r),a.appendChild(m),i.appendChild(u),c.appendChild(h),c.appendChild(C),o.appendChild(E),r.appendChild(f),u.innerHTML=JSON.parse(e[1]).title,h.innerHTML="DETAILS",E.innerHTML=JSON.parse(e[1]).dueDate,m.id=`checkbox-${JSON.parse(e[1]).id}`,u.id=`title-${JSON.parse(e[1]).id}`,h.id=`details-${JSON.parse(e[1]).id}`,E.id=`duedate-${JSON.parse(e[1]).id}`,f.id=`delete-${JSON.parse(e[1]).id}`,C.id=`details-dialog-${JSON.parse(e[1]).id}`,g.id=`delete-dialog-${JSON.parse(e[1]).id}`,m.type="checkbox",f.classList.add("fa-solid"),f.classList.add("fa-trash-can"),t.classList.add("item-container"),n.classList.add("left-container"),d.classList.add("right-container"),a.classList.add("checkbox-container"),i.classList.add("title-container"),c.classList.add("details-container"),o.classList.add("duedate-container"),r.classList.add("delete-container"),m.classList.add("item-element"),u.classList.add("item-element"),h.classList.add("item-element"),E.classList.add("item-element"),f.classList.add("item-element"),C.classList.add("details-dialog"),"yes"==JSON.parse(e[1]).isDone?m.checked=!0:m.checked=!1,m.addEventListener("change",(()=>{let t="";t=m.checked?"checked":"unchecked",function(e,t){let n=JSON.parse(e[1]).id,d="";d="checked"==t?"yes":"no",p(n,s(n,JSON.parse(e[1]).title,JSON.parse(e[1]).description,JSON.parse(e[1]).dueDate,JSON.parse(e[1]).inProject,d))}(e,t)})),h.addEventListener("pointerdown",(()=>{!function(e){let t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),p=document.createElement("div"),m=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),E=document.getElementById(`details-dialog-${JSON.parse(e[1]).id}`);E.innerHTML="";let L=document.createElement("p"),f=document.createElement("p"),C=document.createElement("p"),g=document.createElement("p"),v=document.createElement("h2"),S=document.createElement("p"),O=document.createElement("p"),N=document.createElement("p"),J=document.createElement("h2");E.appendChild(t),t.appendChild(n),t.appendChild(d),E.appendChild(a),a.appendChild(i),a.appendChild(l),i.appendChild(o),i.appendChild(s),i.appendChild(r),l.appendChild(p),l.appendChild(m),l.appendChild(u),l.appendChild(h),n.appendChild(p),d.appendChild(J),c.appendChild(L),o.appendChild(f),s.appendChild(C),r.appendChild(g),p.appendChild(v),m.appendChild(S),u.appendChild(O),h.appendChild(N),v.innerHTML="Title:",J.innerHTML="X",f.innerHTML="Description:",C.innerHTML="In project:",g.innerHTML="Due date:",v.innerHTML=`${JSON.parse(e[1]).title}`,S.innerHTML=`${JSON.parse(e[1]).description}`,O.innerHTML=`${JSON.parse(e[1]).inProject}`,N.innerHTML=`${JSON.parse(e[1]).dueDate}`,J.addEventListener("pointerdown",(()=>{E.close()})),t.classList.add("details-dialog-header-container"),a.classList.add("details-dialog-info-container"),i.classList.add("details-dialog-info-left-container"),l.classList.add("details-dialog-info-right-container"),J.classList.add("details-dialog-close"),E.showModal()}(e)})),r.addEventListener("pointerdown",(()=>{!function(e){"task"==L(e)&&(localStorage.removeItem(JSON.parse(e[1]).id),l.innerHTML="",v(1,JSON.parse(e[1]).inProject))}(e),v(0)}))}function g(){l.innerHTML=""}function v(e,t){0==e?(g(),Object.entries(localStorage).forEach((e=>{"task"==L(e)&&C(e)}))):(g(),Object.entries(localStorage).forEach((e=>{"task"==L(e)&&JSON.parse(e[1]).inProject==t&&C(e)})))}let S=r(0,"Not in a project");m(S.id,S);let O=r(1,"selected-project");m(O.id,O);let N=r(2,"House chores"),J=r(3,"Work assignment");m(N.id,N),m(J.id,J);let T=s(4,"Walk the dog","He deserves a treat also","2023-03-07","House chores","no"),H=s(5,"Clean the room","Almost done. I'll mark this complete","2023-03-07","House chores","yes"),M=s(6,"Wash the car","There's a great car wash place nearby","2023-03-07","House chores","no"),j=s(7,"Finish that presentation","Well, time to work on that","2023-03-07","Work assignment","no"),y=s(8,"Fix that bug","Fixed it. I caused it, I fixed it.","2023-03-07","Work assignment","yes");p(4,T),p(5,H),p(6,M),p(7,j),p(8,y),v(0),f(),o.addEventListener("pointerdown",(()=>{v(0),localStorage.setItem(1,JSON.stringify(O))})),e.addEventListener("pointerdown",(()=>{t.showModal()})),n.addEventListener("pointerdown",(()=>{u(t)})),d.addEventListener("pointerdown",(()=>{h(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("p"),r=document.createElement("input"),m=document.createElement("p"),h=document.createElement("input"),f=document.createElement("p"),C=document.createElement("input"),g=document.createElement("p"),S=document.createElement("select"),O=document.createElement("button");e.appendChild(n),e.appendChild(d),e.appendChild(a),e.appendChild(i),e.appendChild(c),n.appendChild(o),n.appendChild(r),d.appendChild(m),d.appendChild(h),a.appendChild(f),a.appendChild(C),i.appendChild(g),i.appendChild(S),c.appendChild(O),o.innerHTML="Title:",m.innerHTML="Description:",f.innerHTML="Due date:",g.innerHTML="In project:",O.innerHTML="ADD TASK",r.type="text",h.type="text",C.type="date",r.placeholder="Task name...",h.placeholder="Describe the task...",n.classList.add("form-group"),d.classList.add("form-group"),a.classList.add("form-group"),i.classList.add("form-group"),c.classList.add("form-group"),o.classList.add("form-label"),m.classList.add("form-label"),f.classList.add("form-label"),g.classList.add("form-label"),S.classList.add("form-input"),r.classList.add("form-input"),h.classList.add("form-input"),C.classList.add("form-input"),O.classList.add("form-input"),O.classList="form-button-choice",Object.entries(localStorage).forEach((e=>{if("project"==L(e)){let t=document.createElement("option");t.innerHTML=JSON.parse(e[1]).name,"selected-project"!=JSON.parse(e[1]).name&&S.add(t)}})),O.addEventListener("pointerdown",(()=>{let e=E()+1;p(e,s(e,r.value,h.value,C.value,S.value,"no")),u(t),l.innerHTML="",v(0)}))}(i)})),a.addEventListener("pointerdown",(()=>{h(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("p"),i=document.createElement("input"),l=document.createElement("button");e.appendChild(n),e.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(l),a.innerHTML="Project name:",l.innerHTML="ADD PROJECT",i.type="text",i.placeholder="Name your project...",n.classList.add("form-group"),d.classList.add("form-group"),a.classList.add("form-label"),i.classList.add("form-input"),l.classList.add("form-input"),l.classList="form-button-choice",e.classList.add="add-task-project-form",l.addEventListener("pointerdown",(()=>{let e=E()+1;m(e,r(e,i.value)),u(t),c.innerHTML="",f()}))}(i)}))})();