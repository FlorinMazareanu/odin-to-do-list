(()=>{"use strict";let e=document.getElementById("planning-add-button"),t=document.getElementById("add-dialog-open"),n=document.getElementById("add-dialog-close"),d=document.getElementById("add-modal-task"),a=document.getElementById("add-modal-project"),i=document.getElementById("modal-content-form"),l=document.getElementById("all-tasks"),c=document.getElementById("planning-projects-list"),o=document.getElementById("planning-home-h3");function r(e,t){let n=new function(e,t){this.id=e,this.name=t}(e,t);return n}function p(e,t){localStorage.setItem(e,JSON.stringify(t))}function s(e){e.close()}function m(e){e.innerHTML=""}function u(){let e=0,t=[];return Object.entries(localStorage).forEach((e=>{t.push(JSON.parse(e[1]).id)})),e=Math.max(...t),e}function h(e){let t="";return t=JSON.parse(e[1]).hasOwnProperty("name")?"project":"task",t}function E(e){let t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),p=document.createElement("div"),s=document.createElement("input"),m=document.createElement("p"),u=document.createElement("button"),h=document.createElement("p"),E=document.createElement("i"),L=document.createElement("i");l.appendChild(t),t.appendChild(n),t.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(c),d.appendChild(o),d.appendChild(r),d.appendChild(p),a.appendChild(s),i.appendChild(m),c.appendChild(u),o.appendChild(h),r.appendChild(E),p.appendChild(L),m.innerHTML=JSON.parse(e[1]).title,u.innerHTML="DETAILS",h.innerHTML=JSON.parse(e[1]).dueDate,s.id=`checkbox-${JSON.parse(e[1]).id}`,m.id=`title-${JSON.parse(e[1]).id}`,u.id=`details-${JSON.parse(e[1]).id}`,h.id=`duedate-${JSON.parse(e[1]).id}`,E.id=`edit-${JSON.parse(e[1]).id}`,L.id=`delete-${JSON.parse(e[1]).id}`,s.type="checkbox",E.classList.add("fa-regular"),E.classList.add("fa-pen-to-square"),L.classList.add("fa-solid"),L.classList.add("fa-trash-can"),t.classList.add("item-container"),n.classList.add("left-container"),d.classList.add("right-container"),a.classList.add("checkbox-container"),i.classList.add("title-container"),c.classList.add("details-container"),o.classList.add("duedate-container"),r.classList.add("edit-container"),p.classList.add("delete-container"),s.classList.add("item-element"),m.classList.add("item-element"),u.classList.add("item-element"),h.classList.add("item-element"),E.classList.add("item-element"),L.classList.add("item-element")}function L(){l.innerHTML=""}function C(e,t){0==e?(L(),Object.entries(localStorage).forEach((e=>{"task"==h(e)&&(console.log(e),E(e))}))):(L(),console.log("only tasks from the project will be loaded..."),console.log(t),console.log("looping..."),Object.entries(localStorage).forEach((e=>{"task"==h(e)&&JSON.parse(e[1]).inProject==t&&(console.log(e),E(e))})))}let g=r(0,"Not in a project");p(g.id,g),C(0),Object.entries(localStorage).forEach((e=>{if("project"==h(e)){let t=document.createElement("div"),n=document.createElement("h3");c.appendChild(t),t.appendChild(n),n.innerHTML=JSON.parse(e[1]).name,n.id=`project-${JSON.parse(e[1]).id}`,n.addEventListener("pointerdown",(()=>{C(1,JSON.parse(e[1]).name)}))}})),o.addEventListener("pointerdown",(()=>{C(0)})),e.addEventListener("pointerdown",(()=>{t.showModal()})),n.addEventListener("pointerdown",(()=>{s(t)})),d.addEventListener("pointerdown",(()=>{m(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("p"),o=document.createElement("input"),r=document.createElement("p"),p=document.createElement("input"),m=document.createElement("p"),E=document.createElement("input"),L=document.createElement("p"),C=document.createElement("select"),g=document.createElement("button");e.appendChild(n),e.appendChild(d),e.appendChild(a),e.appendChild(i),e.appendChild(l),n.appendChild(c),n.appendChild(o),d.appendChild(r),d.appendChild(p),a.appendChild(m),a.appendChild(E),i.appendChild(L),i.appendChild(C),l.appendChild(g),c.innerHTML="Title:",r.innerHTML="Description:",m.innerHTML="Due date:",L.innerHTML="In project:",g.innerHTML="ADD TASK",o.type="text",p.type="text",E.type="date",o.placeholder="Task name...",p.placeholder="Describe the task...",Object.entries(localStorage).forEach((e=>{if(console.log(e),"project"==h(e)){console.log("gasit proiect:"),console.log(e);let t=document.createElement("option");t.innerHTML=JSON.parse(e[1]).name,C.add(t)}})),g.addEventListener("pointerdown",(()=>{let e=u()+1;var n,d;n=e,d=function(e,t,n,d,a,i){let l=new function(e,t,n,d,a,i){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.inProject=a,this.isDone=i}(e,t,n,d,a,"no");return l}(e,o.value,p.value,E.value,C.value),localStorage.setItem(n,JSON.stringify(d)),s(t)}))}(i)})),a.addEventListener("pointerdown",(()=>{m(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("p"),i=document.createElement("input"),l=document.createElement("button");e.appendChild(n),e.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(l),a.innerHTML="Project name:",l.innerHTML="ADD PROJECT",i.type="text",i.placeholder="Name your project...",l.addEventListener("pointerdown",(()=>{let e=u()+1;p(e,r(e,i.value)),s(t)}))}(i)}))})();