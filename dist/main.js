(()=>{"use strict";let e=document.getElementById("planning-add-button"),t=document.getElementById("add-dialog-open"),n=document.getElementById("add-dialog-close"),d=document.getElementById("add-modal-task"),a=document.getElementById("add-modal-project"),i=document.getElementById("modal-content-form"),l=document.getElementById("all-tasks"),c=document.getElementById("planning-projects-list"),o=document.getElementById("planning-home-h3");function p(e,t){let n=new function(e,t){this.id=e,this.name=t}(e,t);return n}function r(e,t){localStorage.setItem(e,JSON.stringify(t))}function m(e){e.close()}function s(e){e.innerHTML=""}function u(){let e=0,t=[];return Object.entries(localStorage).forEach((e=>{t.push(JSON.parse(e[1]).id)})),e=Math.max(...t),e}function h(e){let t="";return t=JSON.parse(e[1]).hasOwnProperty("name")?"project":"task",t}function E(e){let t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),p=document.createElement("div"),r=document.createElement("div"),m=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),E=document.createElement("div"),C=document.createElement("div"),L=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),f=document.createElement("div"),S=document.createElement("div"),O=document.createElement("div"),T=document.createElement("div"),M=document.createElement("div"),N=document.createElement("input"),J=document.createElement("p"),H=document.createElement("button"),j=document.createElement("p"),y=document.createElement("i"),w=document.createElement("i"),b=document.createElement("dialog"),D=document.createElement("dialog"),I=document.createElement("dialog"),$=document.createElement("p"),k=document.createElement("p"),B=document.createElement("p"),x=document.createElement("p"),P=document.createElement("p"),A=document.createElement("p"),q=document.createElement("p"),K=document.createElement("p"),R=document.createElement("p");l.appendChild(t),t.appendChild(n),t.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(c),d.appendChild(o),d.appendChild(p),d.appendChild(r),a.appendChild(N),i.appendChild(J),c.appendChild(H),c.appendChild(b),o.appendChild(j),p.appendChild(y),p.appendChild(D),r.appendChild(w),r.appendChild(I),b.appendChild(m),m.appendChild(s),m.appendChild(u),b.appendChild(h),h.appendChild(E),h.appendChild(C),E.appendChild(g),E.appendChild(v),E.appendChild(f),C.appendChild(S),C.appendChild(O),C.appendChild(T),C.appendChild(M),s.appendChild(S),u.appendChild(R),L.appendChild($),g.appendChild(k),v.appendChild(B),f.appendChild(x),S.appendChild(P),O.appendChild(A),T.appendChild(q),M.appendChild(K),J.innerHTML=JSON.parse(e[1]).title,H.innerHTML="DETAILS",j.innerHTML=JSON.parse(e[1]).dueDate,P.innerHTML="Title:",R.innerHTML="X",k.innerHTML="Description:",B.innerHTML="In project:",x.innerHTML="Due date:",P.innerHTML=`${JSON.parse(e[1]).title}`,A.innerHTML=`${JSON.parse(e[1]).description}`,q.innerHTML=`${JSON.parse(e[1]).inProject}`,K.innerHTML=`${JSON.parse(e[1]).dueDate}`,N.id=`checkbox-${JSON.parse(e[1]).id}`,J.id=`title-${JSON.parse(e[1]).id}`,H.id=`details-${JSON.parse(e[1]).id}`,b.id=`details-dialog-${JSON.parse(e[1]).id}`,j.id=`duedate-${JSON.parse(e[1]).id}`,y.id=`edit-${JSON.parse(e[1]).id}`,D.id=`edit-dialog-${JSON.parse(e[1]).id}`,w.id=`delete-${JSON.parse(e[1]).id}`,I.id=`delete-dialog-${JSON.parse(e[1]).id}`,b.close(),D.close(),I.close(),N.type="checkbox",y.classList.add("fa-regular"),y.classList.add("fa-pen-to-square"),w.classList.add("fa-solid"),w.classList.add("fa-trash-can"),t.classList.add("item-container"),n.classList.add("left-container"),d.classList.add("right-container"),a.classList.add("checkbox-container"),i.classList.add("title-container"),c.classList.add("details-container"),o.classList.add("duedate-container"),p.classList.add("edit-container"),r.classList.add("delete-container"),N.classList.add("item-element"),J.classList.add("item-element"),H.classList.add("item-element"),j.classList.add("item-element"),y.classList.add("item-element"),w.classList.add("item-element"),m.classList.add("details-dialog-header-container"),h.classList.add("details-dialog-info-container"),E.classList.add("details-dialog-info-left-container"),C.classList.add("details-dialog-info-right-container"),H.addEventListener("pointerdown",(()=>{b.showModal()}))}function C(){l.innerHTML=""}function L(e,t){0==e?(C(),Object.entries(localStorage).forEach((e=>{"task"==h(e)&&(console.log(e),E(e))}))):(C(),console.log("only tasks from the project will be loaded..."),console.log(t),console.log("looping..."),Object.entries(localStorage).forEach((e=>{"task"==h(e)&&JSON.parse(e[1]).inProject==t&&(console.log(e),E(e))})))}let g=p(0,"Not in a project");r(g.id,g),L(0),Object.entries(localStorage).forEach((e=>{if("project"==h(e)){let t=document.createElement("div"),n=document.createElement("h3");c.appendChild(t),t.appendChild(n),n.innerHTML=JSON.parse(e[1]).name,n.id=`project-${JSON.parse(e[1]).id}`,n.addEventListener("pointerdown",(()=>{L(1,JSON.parse(e[1]).name)}))}})),o.addEventListener("pointerdown",(()=>{L(0)})),e.addEventListener("pointerdown",(()=>{t.showModal()})),n.addEventListener("pointerdown",(()=>{m(t)})),d.addEventListener("pointerdown",(()=>{s(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),c=document.createElement("p"),o=document.createElement("input"),p=document.createElement("p"),r=document.createElement("input"),s=document.createElement("p"),E=document.createElement("input"),C=document.createElement("p"),L=document.createElement("select"),g=document.createElement("button");e.appendChild(n),e.appendChild(d),e.appendChild(a),e.appendChild(i),e.appendChild(l),n.appendChild(c),n.appendChild(o),d.appendChild(p),d.appendChild(r),a.appendChild(s),a.appendChild(E),i.appendChild(C),i.appendChild(L),l.appendChild(g),c.innerHTML="Title:",p.innerHTML="Description:",s.innerHTML="Due date:",C.innerHTML="In project:",g.innerHTML="ADD TASK",o.type="text",r.type="text",E.type="date",o.placeholder="Task name...",r.placeholder="Describe the task...",Object.entries(localStorage).forEach((e=>{if(console.log(e),"project"==h(e)){console.log("gasit proiect:"),console.log(e);let t=document.createElement("option");t.innerHTML=JSON.parse(e[1]).name,L.add(t)}})),g.addEventListener("pointerdown",(()=>{let e=u()+1;var n,d;n=e,d=function(e,t,n,d,a,i){let l=new function(e,t,n,d,a,i){this.id=e,this.title=t,this.description=n,this.dueDate=d,this.inProject=a,this.isDone=i}(e,t,n,d,a,"no");return l}(e,o.value,r.value,E.value,L.value),localStorage.setItem(n,JSON.stringify(d)),m(t)}))}(i)})),a.addEventListener("pointerdown",(()=>{s(i),function(e){let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("p"),i=document.createElement("input"),l=document.createElement("button");e.appendChild(n),e.appendChild(d),n.appendChild(a),n.appendChild(i),d.appendChild(l),a.innerHTML="Project name:",l.innerHTML="ADD PROJECT",i.type="text",i.placeholder="Name your project...",l.addEventListener("pointerdown",(()=>{let e=u()+1;r(e,p(e,i.value)),m(t)}))}(i)}))})();